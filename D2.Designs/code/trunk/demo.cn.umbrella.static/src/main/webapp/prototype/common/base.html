<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>基础结构</title>
		<link rel="stylesheet" type="text/css" href="../../thirdparty/jquery-easyui-1.4.5/themes/default/easyui.css"/>
		<link rel="stylesheet" type="text/css" href="css/base.css">
		<link rel="stylesheet" href="../../thirdparty/artDialog/ui-dialog.css" />
		<link rel="stylesheet" type="text/css" href="../../thirdparty/ztree/css/zTreeStyle/zTreeStyle.css">
		<link rel="stylesheet" type="text/css" href="css/icon.font.css"/>
		<link rel="stylesheet" type="text/css" href="css/layout.css">
		<link rel="stylesheet" type="text/css" href="css/dataGrid.layout.css"/>
	</head>

	<body>
		<div class="wrapper">
			<!-- 头部 -->
			<div class="nav-outer">
				<div class="nav-inner">
					<div class="overflow-hidden">
						<ul class="top-info right">
							<li>
								<a href="###">您好，李玉东（cxy）</a>
							</li>
							<li>
								<a href="###">
									<span class="head-icon message-icon"></span>
									<span class="orange-point">19</span>
								</a>
							</li>
							<li>
								<a href="###">
									<span class="head-icon remind-icon"></span>
									<span class="blue-point">5</span>
								</a>
							</li>
							<li>
								<a href="###">
									<span class="head-icon set-icon"></span>设置
								</a>
							</li>
							<li>
								<a href="###">
									<span class="head-icon exit-icon"></span>退出
								</a>
							</li>
						</ul>
					</div>
					<h1 class="logo"></h1>
					<ul class="nav" id="nav">
						<li>
							<a href="index.html">
								<span class="index-icon"></span>系统首页
							</a>
							<span class="nav-cur-icon"></span>
						</li>
						<li class="cur">
							<a href="report.html">
								<span class="project-icon"></span>项目管理
							</a>
							<span class="nav-cur-icon"></span>
						</li>
						<li>
							<a href="###">
								<span class="statistics-icon"></span>统计分析
							</a>
							<span class="nav-cur-icon"></span>
						</li>
						<li>
							<a href="###">
								<span class="map-icon"></span>电子地图
							</a>
							<span class="nav-cur-icon"></span>
						</li>
						<li>
							<a href="###">
								<span class="public-info-icon"></span>公共信息
							</a>
							<span class="nav-cur-icon"></span>
						</li>
						<li>
							<a href="###">
								<span class="system-icon"></span>系统管理
							</a>
							<span class="nav-cur-icon"></span>
						</li>
						<li>
							<a href="###">
								<span class="performance-icon"></span>绩效管理
							</a>
							<span class="nav-cur-icon"></span>
						</li>
					</ul>
				</div>
				<div class="nav-line-vertical"></div>
			</div>
			<!-- 侧边栏 -->
			<div class="sub-nav-outer">
				<div class="scroll">
					<div class="sub-nav-inner">
						<dl>
							<dt class="cur"><i class="fi-record"></i>项目填报<span class="fi-arrow-down"></span></dt>
							<dd>
								<div>
									<a href="###">项目填报1</a>
									<a href="###" class="cur-a">项目填报2</a>
									<a href="###">项目填报3</a>
									<a href="###">项目填报4</a>
								</div>
							</dd>
							<dt><i class="fi-record"></i>项目变更<span class="fi-arrow-right"></span></dt>
							<dd>
								<div>
									<a href="###">项目变更1</a>
									<a href="###">项目变更2</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
									<a href="###">项目变更3</a>
									<a href="###">项目变更4</a>
								</div>
							</dd>
							<dt><i class="fi-record"></i>项目年报<span class="fi-arrow-right"></span></dt>
							<dd>
								<div>
									<a href="###">项目年报1</a>
									<a href="###">项目年报2</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
									<a href="###">项目年报3</a>
								</div>
							</dd>
							<dt><i class="fi-record"></i>项目库<span class="fi-arrow-right"></span></dt>
							<dd>
								<div>
									<a href="###">项目库1</a>
									<a href="###">项目库2</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
								</div>
							</dd>
						</dl>
					</div>
				</div>
			</div>
			<!-- 主体 -->
			<div class="main">
				<!-- 面包屑 -->
				<div class="main-bread-crumb">
					<div class="breadcrumb-hidden">
						<span class="breadcrumb-icon"></span>
						<ol>
							<li><span class="breadcrumb-line"></span><a href="###">项目管理</a>
							</li>
							<li><span class="breadcrumb-line breadcrumb-arrow"></span><a href="###">项目填报</a>
							</li>
						</ol>
					</div>
				</div>
				<!-- 搜索栏 -->
				<div class="main-search">
					<form  method="post" id="searchForm">
						<div class="overflow-hidden">
							<input type="text" placeholder="输入项目名称查询" class="search-input left" />
							<ul class="hide-li">
								<li>
									<label class="query-label">项目名称</label>
									<input type="text">
								</li>
								<li>
									<label class="query-label">项目类别</label>
									<div class="been-elected-box">
										<ul>
											<li>
												<span>政策法规处</span>
												<i class="cancel-ico"></i>
											</li>
											<li>
												<span>发展规划处</span>
												<i class="cancel-ico"></i>
											</li>
											<li>
												<span>体制改革处</span>
												<i class="cancel-ico"></i>
											</li>
											<li>
												<span>工高处</span>
												<i class="cancel-ico"></i>
											</li>
											<li>
												<span>农村经济发展处</span>
												<i class="cancel-ico"></i>
											</li>
											<li>
												<span>办公室</span>
												<i class="cancel-ico"></i>
											</li>
											<li>
												<span>国外资金利用处</span>
												<i class="cancel-ico"></i>
											</li>
											<li>
												<span>基本建设综合处</span>
												<i class="cancel-ico"></i>
											</li>
											<li>
												<span>人事处</span>
												<i class="cancel-ico"></i>
											</li>
										</ul>
										<a href="###" class="blue-btn small-btn">选择</a>
									</div>
								</li>
								<li>
									<label class="query-label">添加时间</label>
									<input type="text" class="date Wdate" />
									<span>-</span>
									<input type="text" class="date Wdate" />
								</li>
								<li>
									<label class="query-label">项目类型</label>
									<div class="position-relative">
										<select>
											<option value="0">未开工</option>
											<option value="1">谋划</option>
											<option value="2">待开工</option>
											<option value="3">建设初期</option>
											<option value="4">建设中期</option>
										</select>
										<span class="select-ico"></span>
									</div>
								</li>
								<li>
									<label class="query-label">项目级别</label>
									<label><input type="radio" name="levelRadio" value="one" />级别一</label>
									<label><input type="radio" name="levelRadio" value="two" />级别二</label>
								</li>
								<li>
									<label class="query-label">建设性质</label>
									<label><input type="checkbox" name="levelCheck" value="first" />级别一</label>
									<label><input type="checkbox" name="levelCheck" value="second" />级别二</label>
									
								</li>
								<li>
									<label class="query-label">项目区域</label>
									<input type="text" />
								</li>
							</ul>
							<div class="search-btn-group left">
								<input type="submit" class="theme-btn black-btn" value="查询">
								<p class="theme-btn more-text">高级查询</p>
								
								<a href="javascript:" onclick="openDialogHaveButton();" class="black-btn theme-btn">弹窗-底部有按钮</a>
								<a href="javascript:" onclick="openDialogNobutton();" class="black-btn theme-btn">弹窗-底部无按钮</a>
								<a href="javascript:" onclick="openDialogDoubleTree();" class="black-btn theme-btn">弹窗-两棵树</a>
								<a href="javascript:" onclick="openDialogTest();" class="black-btn theme-btn">弹窗-非iframe</a>
								<!--<a href="###" class="black-btn theme-btn">按计划填报</a>-->
							</div>
						</div>
					</form>
				</div>
				<!-- 按钮操作栏 -->
				<div class="main-control">
					<!--a标签按钮-->
					<!--<div class="btns-outer">
						<a href="###" class="add-btn green-btn">新增</a>
						<a href="###" class="green-btn">查看</a>
						<a href="###" class="able-btn green-btn">启用</a>
						<a href="###" class="blue2-btn">提交</a>
						<a href="###" class="blue2-btn">保存</a>
						<a href="###" class="sure-btn blue2-btn">确定</a>
						<a href="###" class="blue2-btn">关联</a>
						<a href="###" class="blue2-btn">通过</a>
						<a href="###" class="detail-btn blue2-btn">详情</a>
						<a href="###" class="delete-btn red2-btn">删除</a>
						<a href="###" class="cancel-btn red2-btn">取消</a>
						<a href="###" class="return-btn red2-btn">返回</a>
						<a href="###" class="red2-btn">不通过</a>
						<a href="###" class="disable-btn red2-btn">禁用</a>
						<a href="###" class="edit-btn orange-btn">修改</a>
					</div>-->
					<!--input按钮-->
					<div class="btns-outer">
						<input type="button" class="auto-width-input add-input btns-bgc1 green-btn" value="新增" />
						<input type="button" class="green-btn" value="查看" />
						<input type="button" class="auto-width-input able-input btns-bgc11 green-btn" value="启用" />
						<input type="button" class="blue2-btn" value="提交" />
						<input type="button" class="blue2-btn" value="保存" />
						<input type="button" class="auto-width-input sure-input btns-bgc6 blue2-btn" value="确定" />
						<input type="button" class="blue2-btn" value="关联" />
						<input type="button" class="blue2-btn" value="通过" />
						<input type="button" class="auto-width-input detail-input btns-bgc4 blue2-btn" value="详情" />
						<input type="button" class="auto-width-input delete-input btns-bgc3 red2-btn" value="删除" />
						<input type="button" class="auto-width-input cancel-input btns-bgc7 red2-btn" value="取消" />
						<input type="button" class="auto-width-input return-input btns-bgc13 red2-btn" value="返回" />
						<input type="button" class="red2-btn" value="不通过" />
						<input type="button" class="auto-width-input disable-input btns-bgc10 red2-btn" value="禁用">
						<input type="button" class="auto-width-input edit-input btns-bgc2 orange-btn" value="修改">
					</div>
				</div>
				<!-- 表格 -->
				<div class="main-table-outer">
					<table id="datagrid" class="user-datagrid easyui-datagrid clearfix" style="height:100%;width:100%;">
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr><tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr><tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr><tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr><tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
						<tr>
							<td>1</td>
							<td>11</td>
							<td>111</td>
						</tr>
					</table>
				</div>
			</div>
			
		</div>

		<script type="text/javascript" src="../../thirdparty/jquery-1.11.3/jquery.min.js"></script>
		<script type="text/javascript" src="../../thirdparty/jquery-easyui-1.4.5/jquery.easyui.min.js"></script>
		<script type="text/javascript" src="../../thirdparty/My97DatePicker/WdatePicker.js"></script>
		<!--dialog-->
		<script type="text/javascript" src="../../thirdparty/artDialog/dialog-min.js"></script>
		<script type="text/javascript" src="../../thirdparty/artDialog/dialog-plus-min.js"></script>
		<!--ztree-->
		<script type="text/javascript" src="../../thirdparty/ztree/js/jquery.ztree.core-3.5.min.js"></script>
		<script type="text/javascript" src="../../thirdparty/ztree/js/jquery.ztree.excheck-3.5.min.js"></script>
		<!--slimScroll-->
		<script type="text/javascript" src="../../thirdparty/slimScroll/jquery.slimscroll.min.js"></script>
		<script type="text/javascript" src="js/common.js"></script>
		<script src="js/layout.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(function() {
				//my97
				$(".date").click(function() {
					WdatePicker()
				});
				$(".time").click(function() {
					WdatePicker({
						skin: 'whyGreen',
						dateFmt: 'H:mm:ss'
					});
				});
				//禁止输入
				$(".time,.date").keyup(function() {
					var thisVal = $(this).val();
					$(this).val(thisVal.slice(0, thisVal.length - 2))
				});
			});
		</script>
		<script type="text/javascript">
			$(function() {
				$('#datagrid').datagrid({
//					url: "datagrid_data1.json",
					columns: [
						[
							{field: 'id',title: 'ID',width: 100},
							{field: 'name',title: 'Name',width: 100}
						]
					],
					frozenColumns: [
						[
							{field: 'ck',checkbox: true}, // 复选框列
							{field: 'opt',title: "操作",width: 100,
								formatter: function(value, row, index) {
									return '<a href="###">删除</a>'
								}
							}
						]
					],
					method: "post",
					pageSize: 10,
					rownumbers: true,
					pagination: true,
					collapsible: true,

					singleSelect: false, // 复选
					selectOnCheck: true,
					checkOnSelect: true,

					sortName: 'id,     name',
					sortOrder: 'desc   ,asc,asc   ',
					queryParams: {} // 查询条件
				});
				
			});
			//dialog
			function openDialogHaveButton() {
				$.GD.dialog({
					id: 'showDialog' + new Date().getTime(),
			        title: '我是弹窗',
			        url: 'dialogHtml.html',
			        data: {"name": "haveButton"},
			        width: '500px',
			        height: '300px',
			        onclose: function(params) {
			        	if(params) {
			        		$.GD.msg(params);
			        	}
			        }
		    	});
			};
			function openDialogNobutton() {
				$.GD.dialog({
					id: 'showDialog' + new Date().getTime(),
			        title: '我是弹窗',
			        url: 'dialogHtmlNoBtn.html',
			        data: {"name": "noBtn"},
			        width: '500px',
			        height: '300px',
			        onclose: function(params) {
			        	if(params) {
			        		$.GD.msg(params);
			        	}
			        }
		    	});
			};
			function openDialogDoubleTree() {
				$.GD.dialog({
					id: 'showDialog' + new Date().getTime(),
			        title: '两棵树',
			        url: 'doubleTree.html',
			        data: {"name": "noBtn"},
			        width: '800px',
			        height: '500px',
			        onclose: function(params) {
			        	if(params) {
			        		$.GD.msg(params);
			        	}
			        }
		    	});
			};
			
			//非iframe弹窗
			function openDialogTest() {
				var htmlContent = '<div class="ztree-module" style="height:390px;">';
				htmlContent += '<ul class="ztree" style="margin: 10px;" id="departmentTree"></ul>';
				htmlContent += '</div>';
				$.GD.dialog({
					title: "选择数据来源部门",
					width: 300,
					height: 400,
					content:htmlContent,
					statusbar: "<p class='color-blue' style='font:12px microsoft yahei'><span class='info-icon'></span>只能选择子节点！</p>",
					oktext:"确定",
					ok: function () {
						var treeObj = $.fn.zTree.getZTreeObj("departmentTree");
				    	var nodes = treeObj.getCheckedNodes(true);
						// 添加选中的部门，并修改input中的值
			    		if(nodes.length > 0) {
			    			var lis = [];
			    			$.each(nodes, function(i, v){
			    				groupIds.push(v.groupId);
			    				var groups = [];
			    				groups.push('<span data-group-id="' + v.groupId +'">' + v.groupName + '</span>');
			    				groups.push('<i class="cancel-ico"></i>');
			    				lis.push($("<li>").append(groups));
			    			});
			    			$this.prev("ul").append(lis);
			    			$(tmp).val(groupIds.join(","));
			    			$(tmp).attr("name", itemName);
			    		}
				    },
				    cancelValue: '取消',
				    cancel: function () {},
					onclose: function(params) {
						if(params) {
							$.GD.msg(params);
						}
					}
				});
				
				// 项目分类树==================Start============================================
				var setting = {
						view: {
							dblClickExpand: false,
						},
						check : {
							enable : true,
							chkboxType : {"Y" : "","N" : ""}
						},
						data: {
//							key:{
//								name: "groupName"
//							},
							simpleData: {
								enable:true,
//								idKey: "groupId",
//								pIdKey: "groupPid",
//								rootPId: 0
							}
						},
						callback: {
							beforeClick: function(treeId, treeNode) {
								if(!treeNode.isParent) {//当是父节点 返回false 不让选取
									var zTree = $.fn.zTree.getZTreeObj("departmentTree");
									zTree.checkNode(treeNode, !treeNode.checked, null, true);
								}
								return false;
							},
							beforeCheck: function(treeId, treeNode) {
								return !treeNode.isParent;//当是父节点 返回false 不让选取
							}
						}
					};
				var zNodes =[
					{ id:1, pId:0, name:"根 Root", open:true},
					{ id:11, pId:1, name:"父节点 1-1", open:true},
					{ id:111, pId:11, name:"叶子节点 1-1-1"},
					{ id:112, pId:11, name:"叶子节点 1-1-2"},
					{ id:113, pId:11, name:"叶子节点 1-1-3"},
					{ id:114, pId:11, name:"叶子节点 1-1-4"},
					{ id:12, pId:1, name:"父节点 1-2", open:true},
					{ id:121, pId:12, name:"叶子节点 1-2-1"},
					{ id:122, pId:12, name:"叶子节点 1-2-2"},
					{ id:123, pId:12, name:"叶子节点 1-2-3"},
					{ id:124, pId:12, name:"叶子节点 1-2-4"},
					{ id:13, pId:1, name:"父节点 1-3", open:true},
					{ id:131, pId:13, name:"叶子节点 1-3-1"},
					{ id:132, pId:13, name:"叶子节点 1-3-2"},
					{ id:133, pId:13, name:"叶子节点 1-3-3"},
					{ id:134, pId:13, name:"叶子节点 1-3-4"},
					{ id:14, pId:1, name:"父节点 1-3", open:true},
					{ id:141, pId:14, name:"叶子节点 1-3-1"},
					{ id:142, pId:14, name:"叶子节点 1-3-2"},
					{ id:143, pId:14, name:"叶子节点 1-3-3"},
					{ id:144, pId:14, name:"叶子节点 1-3-4"},
					
				];
				var t = $("#departmentTree");
				t = $.fn.zTree.init(t, setting, zNodes);
				$.fn.zTree.getZTreeObj("departmentTree").expandAll(true);
				// 项目分类树==================End=============================================
			};
		</script>
	</body>

</html>